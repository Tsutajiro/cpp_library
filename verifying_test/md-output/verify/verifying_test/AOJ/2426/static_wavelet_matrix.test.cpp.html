<!-- mathjax config similar to math.stackexchange -->

<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    TeX: { equationNumbers: { autoNumber: "AMS" }},
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      processEscapes: true
    },
    "HTML-CSS": { matchFontHeight: false },
    displayAlign: "left",
    displayIndent: "2em"
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script type="text/javascript" src="../../../../assets/js/balloons.js"></script>

<script type="text/javascript" src="../../../../assets/js/copy-button.js"></script>

<p><link rel="stylesheet" href="../../../../assets/css/copy-button.css" /></p>
<h1>:warning: ../../verifying_test/AOJ/2426/static_wavelet_matrix.test.cpp</h1>
<p><a href="../../../../index.html">Back to top page</a></p>
<ul>
<li>矩形 $x_{i1} \leq x \leq x_{i2}, y_{i1} \leq y \leq y_{i2}$ 内に属する点の個数を求める</li>
<li>see: <a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2426">http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2426</a></li>
</ul>
<h2>Dependencies</h2>
<ul>
<li>:warning: <a href="../../../../library/structure/strc_023_compact_bitvector.cpp.html">../../structure/strc_023_compact_bitvector.cpp</a></li>
<li>:warning: <a href="../../../../library/structure/strc_024_static_wavelet_matrix.cpp.html">../../structure/strc_024_static_wavelet_matrix.cpp</a></li>
</ul>
<h2>Code</h2>
<pre><code class="cpp">#define PROBLEM &quot;http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2426&quot;
#define DESCRIPTION &quot;矩形 $x_{i1} \leq x \leq x_{i2}, y_{i1} \leq y \leq y_{i2}$ 内に属する点の個数を求める&quot;

// #define _GLIBCXX_DEBUG // for STL debug (optional)
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;cstdio&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;deque&gt;
#include &lt;list&gt;
#include &lt;queue&gt;
#include &lt;stack&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;complex&gt;
#include &lt;cmath&gt;
#include &lt;limits&gt;
#include &lt;cfloat&gt;
#include &lt;climits&gt;
#include &lt;ctime&gt;
#include &lt;cassert&gt;
#include &lt;numeric&gt;
#include &lt;fstream&gt;
#include &lt;functional&gt;
#include &lt;bitset&gt;
using namespace std;
using ll = long long int;
using int64 = long long int;

template&lt;typename T&gt; void chmax(T &amp;a, T b) {a = max(a, b);}
template&lt;typename T&gt; void chmin(T &amp;a, T b) {a = min(a, b);}
template&lt;typename T&gt; void chadd(T &amp;a, T b) {a = a + b;}

int dx[] = {0, 0, 1, -1};
int dy[] = {1, -1, 0, 0};
const int INF = 1LL &lt;&lt; 29;
const ll LONGINF = 1LL &lt;&lt; 60;
const ll MOD = 1000000007LL;

#include &quot;../../../structure/strc_023_compact_bitvector.cpp&quot;
#include &quot;../../../structure/strc_024_static_wavelet_matrix.cpp&quot;

int main() {
    int N, M; scanf(&quot;%d%d&quot;, &amp;N, &amp;M);

    ll ofs = 1LL &lt;&lt; 30;
    vector&lt; pair&lt;ll, ll&gt; &gt; tre;
    for(int i=0; i&lt;N; i++) {
        ll x, y; scanf(&quot;%lld%lld&quot;, &amp;x, &amp;y);
        x += ofs, y += ofs;
        tre.emplace_back(x, y);
    }

    sort(tre.begin(), tre.end());
    vector&lt;ll&gt; A;
    for(int i=0; i&lt;N; i++) A.emplace_back(tre[i].second);
    WaveletMatrix&lt;35, ll&gt; wm(A);

    for(int i=0; i&lt;M; i++) {
        ll xl, yl, xr, yr; scanf(&quot;%lld%lld%lld%lld&quot;, &amp;xl, &amp;yl, &amp;xr, &amp;yr);
        xl += ofs, yl += ofs;
        xr += ofs, yr += ofs;
        int l = lower_bound(tre.begin(), tre.end(), make_pair(xl, -1LL)) - tre.begin();
        int r = upper_bound(tre.begin(), tre.end(), make_pair(xr, LONGINF)) - tre.begin();
        printf(&quot;%d\n&quot;, wm.freq(l, r, yl, yr));
    }
    return 0;
}

</code></pre>

<p><a href="../../../../index.html">Back to top page</a></p>